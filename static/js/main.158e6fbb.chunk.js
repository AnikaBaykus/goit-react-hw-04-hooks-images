(this["webpackJsonphw-04-hooks-images"]=this["webpackJsonphw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1iugG",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2XWML"}},11:function(e,t,a){e.exports={Spinner:"Loader_Spinner__2UoQ7"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1nCwa",Modal:"Modal_Modal__10XA8"}},14:function(e,t,a){e.exports={SearchBar:"SearchBar_SearchBar__3wMDO"}},15:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3Plot"}},19:function(e,t,a){e.exports={Button:"Button_Button__3kXv-"}},26:function(e,t,a){},27:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(4),c=a.n(r),s=(a(26),a(3)),i=(a(27),a(5)),l=(a(28),a(2)),u=a.n(l),m=a(7),j=a.n(m),b=a(1);function h(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],r=a[1];return Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==o.trim()?(e.onSearchFormSubmit(o),r("")):i.b.warn("\ud83d\ude30 Nothing found, please specify your request \ud83d\ude35")},className:j.a.SearchForm,children:[Object(b.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(b.jsx)("span",{className:j.a.SearchFormButtonLabel,children:"Search"})}),Object(b.jsx)("input",{className:j.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.currentTarget.value.toLowerCase())}})]})}var d=a(14),O=a.n(d);function g(e){var t=e.onSearchFormSubmit;return Object(b.jsx)("header",{className:O.a.SearchBar,children:Object(b.jsx)(h,{onSearchFormSubmit:t})})}g.protoTypes={onSearchFormSubmit:u.a.func.isRequired};var f=g,p=a(13),S=a(10),v=a.n(S);var x=function(e){var t=e.webformatURL,a=e.tags,n=e.largeImageURL,o=e.onClickImage;return Object(b.jsx)("li",{className:v.a.ImageGalleryItem,onClick:o,children:Object(b.jsx)("img",{src:t,alt:a,className:v.a.ImageGalleryItemImage,longdesc:n})})},_=a(15),I=a.n(_);var y=function(e){var t=e.hits,a=e.onClickImage;return Object(b.jsx)("ul",{className:I.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,o=e.tags,r=e.largeImageURL;return Object(b.jsx)(x,{webformatURL:n,tags:o,onClickImage:a,largeImageURL:r},t)}))})},w=a(16),F=a(17),L=a(21),N=a(20),k=a(11),B=a.n(k),C=a(18),G=a.n(C),M=function(e){Object(L.a)(a,e);var t=Object(N.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{className:B.a.Loader,children:Object(b.jsx)(G.a,{className:B.a.Spinner,type:"Rings",color:"#3f51b5",height:100,width:100,timeout:5e3})})}}]),a}(n.Component),E=a(19),R=a.n(E);var U=function(e){var t=e.onLoadMore;return Object(b.jsx)("button",{type:"button",className:R.a.Button,onClick:t,children:"Load more"})};var T={fetchImage:function(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&key=").concat("22247215-1c12035fc4e9317ec5669aed6","&image_type=photo&orientation=horizontal&page=").concat(t,"&per_page=").concat(12)).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u2757 Not found ".concat(e)))}))}},P=a(12),q=a.n(P),D=document.querySelector("#modal-root");function X(e){var t=e.alt,a=e.src,o=e.onCloseModal,c=e.showModal;Object(n.useEffect)((function(){c&&window.addEventListener("keydown",s)}));var s=function e(t){"Escape"===t.code&&(window.removeEventListener("keydown",e),o())};return Object(r.createPortal)(Object(b.jsx)("div",{className:q.a.Overlay,onClick:function(e){e.target===e.currentTarget&&o()},children:Object(b.jsx)("div",{className:q.a.Modal,children:Object(b.jsx)("img",{src:a,alt:t})})}),D)}function A(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)(null),l=Object(s.a)(c,2),u=l[0],m=l[1],j=Object(n.useState)("idle"),h=Object(s.a)(j,2),d=h[0],O=h[1],g=Object(n.useState)(!1),f=Object(s.a)(g,2),S=f[0],v=f[1],x=Object(n.useState)(""),_=Object(s.a)(x,2),I=_[0],w=_[1],F=Object(n.useState)(""),L=Object(s.a)(F,2),N=L[0],k=L[1],B=Object(n.useState)(1),C=Object(s.a)(B,2),G=C[0],E=C[1],R=Object(n.useState)(""),P=Object(s.a)(R,2),q=P[0],D=P[1],A=e.imageName;Object(n.useEffect)((function(){""!==A?(r([]),O("pending"),H()):console.log(A)}),[A]);var H=function(){console.log(G,A,o,q),""!==A&&(D(!0),T.fetchImage(e.imageName,G).then((function(e){var t=e.hits;console.log(t),r((function(e){return[].concat(Object(p.a)(e),Object(p.a)(t))})),O("resolve"),E((function(e){return e+1})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){m(e),O("rejected")})).finally((function(){D(!1)})))},J=function(){v(!S)};return"idle"===d?Object(b.jsx)("div",{}):"pending"===d?Object(b.jsx)(M,{}):"resolve"===d?Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{hits:o,onClickImage:function(e){var t=e.target.alt,a=e.target.longDesc;w(t),k(a),J()}}),!0===q&&Object(b.jsx)(M,{}),0!==o.length&&Object(b.jsx)(U,{onLoadMore:H}),S&&Object(b.jsx)(X,{src:N,alt:I,onCloseModal:J,showModal:S})]}):"rejected"===d?i.b.error(u.message):void 0}function H(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(f,{onSearchFormSubmit:function(e){o(e.trim())}}),Object(b.jsx)(A,{imageName:a}),Object(b.jsx)(i.a,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}c.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(H,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={SearchForm:"SearchForm_SearchForm__35Pfs",SearchFormButton:"SearchForm_SearchFormButton__2Gawv",SearchFormButtonLabel:"SearchForm_SearchFormButtonLabel__uoh8L",SearchFormInput:"SearchForm_SearchFormInput__1GTGv"}}},[[50,1,2]]]);
//# sourceMappingURL=main.158e6fbb.chunk.js.map